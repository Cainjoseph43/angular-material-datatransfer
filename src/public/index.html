<!doctype html>
<html>

<head>
  <meta charset="utf-8">
  <title>angular-material-datatransfer</title>
  <link rel="icon" type="image/x-icon" href="/img/favicon.ico">
  <!-- Bootstrap CSS included for demonstration purposes only -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

  <base href="/">
</head>

<body>
  <div style="padding: 40px;">
    <angular-material-datatransfer>Loading...</angular-material-datatransfer>
    <p>
      <div class="page-header">
        <h3>Sample files <small>For download demonstration purposes only</small></h3>
      </div>
      <button class="btn btn-default" onclick="downloadAll()">Download all</button>
      <p>
        <ul id="sampleDownloadFileList">
        </ul>
      </p>
    </p>
  </div>

  <script>
    var sampleDownloadFiles = [
      {
        filename: 'nmap-7.40-setup.exe',
        size: 26445000
      },
      {
        filename: 'node-v6.10.3-x64.msi',
        size: 12456000
      },
      {
        filename: 'ubuntu-14.04.5-server-i386.iso',
        size: 609280000
      },
      {
        filename: 'en_windows_10_n.iso',
        size: 3716570000
      }
    ];

    function fillDownloadItemList() {
      sampleDownloadFiles.forEach(function (element) {
        var node = document.createElement('li');
        var link = document.createElement('a');
        link.setAttribute('href', 'javascript:void(0);');
        link.setAttribute('onclick', 'downloadItem(\'' + element.filename + '\', ' + element.size + ')');
        link.innerHTML = element.filename;
        node.appendChild(link);
        document.getElementById('sampleDownloadFileList').appendChild(node);
      }, this);
    }
    fillDownloadItemList();

    function downloadAll() {
      sampleDownloadFiles.forEach(function (element) {
        this.downloadItem(element.filename, element.size);
      }, this);
      return false;
    }

    function downloadItem(filename, size) {
      var event = new CustomEvent('amd.download-item', { 'detail': { 'filename': filename, 'size': size } });
      window.dispatchEvent(event);
      return false;
    }

    (function () {
      window.addEventListener('amd.init', function () {
        var config = {
          core: {
            showUploadDropzone: true,
            paginationRppOptions: [5, 10, 25]
          },
          resumablejs: {
            simultaneousUploads: 2
          }
        };
        var event = new CustomEvent('amd.set-config', { 'detail': config });
        window.dispatchEvent(event);
      });
    })();
  </script>

</body>

</html>